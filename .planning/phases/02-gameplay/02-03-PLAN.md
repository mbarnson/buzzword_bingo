---
phase: 02-gameplay
plan: 03
type: execute
domain: iphone-apps
---

<objective>
Add win celebration and game state management.

Purpose: When someone gets bingo, celebrate properly and let them start a new game.
Output: Complete single-player game loop with win state and reset.
</objective>

<execution_context>
@~/.claude/skills/create-plans/workflows/execute-phase.md
@~/.claude/skills/create-plans/templates/summary.md
@~/.claude/skills/create-plans/references/checkpoints.md
</execution_context>

<context>
@.planning/BRIEF.md
@.planning/ROADMAP.md
@.planning/phases/02-gameplay/02-02-SUMMARY.md
@Buzzword Bingo/Buzzword Bingo/Models/BingoCard.swift
@Buzzword Bingo/Buzzword Bingo/Views/BingoGridView.swift
@Buzzword Bingo/Buzzword Bingo/ContentView.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add game state enum and win overlay</name>
  <files>Buzzword Bingo/Buzzword Bingo/ContentView.swift</files>
  <action>
Add game state management:

1. Create enum GameState { case playing, won }
2. Add @State var gameState: GameState = .playing
3. Watch for card.hasBingo and transition to .won state
4. When won, show overlay with:
   - "BINGO!" in big bold text
   - A snarky victory message (randomized from a list)
   - "New Game" button to reset

Victory messages to include:
- "Holy shit, you actually won!"
- "That meeting was worth something after all"
- "Corporate buzzword champion!"
- "You survived the bullshit bingo"
- "Time to circle back to victory"
  </action>
  <verify>Getting bingo shows the win overlay</verify>
  <done>Win state displays celebration overlay with victory message</done>
</task>

<task type="auto">
  <name>Task 2: Wire up new game reset</name>
  <files>Buzzword Bingo/Buzzword Bingo/ContentView.swift</files>
  <action>
Ensure clean game reset:
1. "New Game" button in win overlay generates fresh card
2. Reset gameState to .playing
3. Ensure existing "New Card" button also resets game state
4. Add subtle animation for card reset (optional but nice)
  </action>
  <verify>New Game from win overlay starts fresh game</verify>
  <done>Complete game loop: play → win → celebrate → new game</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete single-player Buzzword Bingo with win detection and celebration</what-built>
  <how-to-verify>
    1. Run the app on macOS or iOS
    2. Tap squares to mark them
    3. Complete a row, column, or diagonal (5 in a line)
    4. Verify: Win overlay appears with "BINGO!" and snarky message
    5. Verify: Winning squares are highlighted gold
    6. Click "New Game" - verify fresh card appears
    7. Play again to confirm full loop works
  </how-to-verify>
  <resume-signal>Type "approved" if the game loop works, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `xcodebuild -scheme "Buzzword Bingo" -destination 'platform=macOS' build` succeeds
- [ ] Bingo triggers win overlay
- [ ] Win overlay shows celebration message
- [ ] New Game resets everything
- [ ] Human has verified the complete game loop
</verification>

<success_criteria>
- Complete single-player game loop works
- Win celebration is satisfying
- Victory messages are appropriately snarky
- Phase 2 (Gameplay) is complete
- Ready for Phase 3 (Multiplayer)
</success_criteria>

<output>
After completion, create `.planning/phases/02-gameplay/02-03-SUMMARY.md`
</output>
