---
phase: 02-gameplay
plan: 01
type: execute
domain: iphone-apps
---

<objective>
Add tap-to-mark interaction so players can mark squares they hear.

Purpose: Make the grid interactive - tap a buzzword when someone says it.
Output: Tappable squares that toggle their marked state.
</objective>

<execution_context>
@~/.claude/skills/create-plans/workflows/execute-phase.md
@~/.claude/skills/create-plans/templates/summary.md
</execution_context>

<context>
@.planning/BRIEF.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-03-SUMMARY.md
@Buzzword Bingo/Buzzword Bingo/Models/BingoCard.swift
@Buzzword Bingo/Buzzword Bingo/Models/BingoSquare.swift
@Buzzword Bingo/Buzzword Bingo/Views/BingoSquareView.swift
@Buzzword Bingo/Buzzword Bingo/Views/BingoGridView.swift
@Buzzword Bingo/Buzzword Bingo/ContentView.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make BingoCard observable with @Observable</name>
  <files>Buzzword Bingo/Buzzword Bingo/Models/BingoCard.swift</files>
  <action>
Convert BingoCard from struct to @Observable class so SwiftUI can track changes.
- Add @Observable macro
- Keep all existing properties and methods
- Change `var squares` to trigger updates when modified
- Update the generate() method to return the new class type

Note: Swift 6 @Observable works with classes, not structs.
  </action>
  <verify>Code compiles with @Observable; no SwiftUI preview errors</verify>
  <done>BingoCard is an @Observable class that SwiftUI can observe</done>
</task>

<task type="auto">
  <name>Task 2: Add tap gesture to toggle marked state</name>
  <files>Buzzword Bingo/Buzzword Bingo/Views/BingoSquareView.swift, Buzzword Bingo/Buzzword Bingo/Views/BingoGridView.swift</files>
  <action>
Update views to support tapping:

BingoGridView:
- Change to take a @Bindable card or pass a toggle closure
- Pass tap handler to each BingoSquareView

BingoSquareView:
- Add onTap closure parameter
- Wrap content in Button or add .onTapGesture
- Don't allow tapping the free space (it's already marked)
- Add subtle press feedback (opacity change or scale)
  </action>
  <verify>Tapping a square in preview/app toggles its visual state</verify>
  <done>Squares respond to taps and toggle between marked/unmarked</done>
</task>

<task type="auto">
  <name>Task 3: Wire up ContentView with tap handling</name>
  <files>Buzzword Bingo/Buzzword Bingo/ContentView.swift</files>
  <action>
Update ContentView to handle taps:
- Change @State card to work with @Observable class
- Ensure tapping squares updates the UI immediately
- Keep "New Card" button working to reset the game
  </action>
  <verify>Full app: tapping squares marks them green, New Card resets</verify>
  <done>Complete tap-to-mark flow working in the app</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `xcodebuild -scheme "Buzzword Bingo" -destination 'platform=macOS' build` succeeds
- [ ] Tapping a square marks it (turns green)
- [ ] Tapping again unmarks it (turns gray)
- [ ] Free space cannot be unmarked
- [ ] New Card resets all marks
</verification>

<success_criteria>
- Squares are tappable and toggle state
- Visual feedback is immediate
- Free space stays marked
- Ready for bingo detection
</success_criteria>

<output>
After completion, create `.planning/phases/02-gameplay/02-01-SUMMARY.md`
</output>
